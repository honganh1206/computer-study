Tags: #review #computer #clang 

A security vulnerability in the FreeBSD open-source OS back in 2002

![[Aside - Security vulnerability in getpeernamePasted image 20241209215214.png]]

The `copy_from_kernel()` function was intended to copy SOME of the data maintained by the OS kernel to a designated region of memory accessible by user, and some data should not be readable like sensitive information about other users. 

However, as the parameter `n` in line 7 is unsigned, `memcpy` will *treat it as a very large positive number* and thus will copy a **large amount of bytes** to the user's buffer. This will lead to programs reading data from unauthorized regions of the kernel memory.